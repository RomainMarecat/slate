<div class="container">
  <div class="row">
    <div class="col-12">
      <form [formGroup]="form"
            (ngSubmit)="saveArticle()"
            class="form">
        <mat-card class="mat-card mt-3">
          <mat-card-header>
            <mat-card-title>
              <button
                type="button"
                color="warn"
                mat-mini-fab
                class="absolute-fab"
                [routerLink]="['/admin/article']">
                <i class="fa fa-arrow-left" aria-hidden="true"></i>
              </button>
              <span class="justify-content-center">
                {{ 'admin.cta.add.article'|translate }}
              </span>
            </mat-card-title>
          </mat-card-header>
          <mat-card-content class="mat-card-content">
            <div class="row">
              <div class="col-xs-12 col-sm-12">
                <div class="d-block">
                  <mat-form-field class="mat-form-field">
                    <input matInput
                           maxlength="100"
                           [placeholder]="'admin.placeholder.article.name'|translate"
                           [formControl]="form.get('name')">
                    <mat-hint align="start"><strong [innerHtml]="'admin.hint.article.name'|translate"></strong></mat-hint>
                    <mat-hint align="end">{{ form.get('name').value.length }} {{ '/100'|translate }}</mat-hint>
                    <mat-error *ngIf="form.get('name').invalid && form.get('name').value.length === 0"
                               [innerHtml]="'admin.error.required.article.name'|translate"></mat-error>
                    <mat-error *ngIf="form.get('name').invalid && form.get('name').value.length > 0"
                               [innerHtml]="'admin.error.invalid.article.name'|translate"></mat-error>
                  </mat-form-field>
                </div>
                <div class="mat-form-field editor mt1">
                  <label class="mat-hint"><strong>{{ 'admin.label.article.description'|translate }}</strong></label>
                  <app-ngx-editor [config]="editorConfig"
                                  [formControl]="form.get('description')">
                  </app-ngx-editor>
                  <mat-form-field appearance="fill">
                    <mat-label>{{ 'admin.label.article.facebook'|translate }}</mat-label>
                    <input matInput
                           [placeholder]="'admin.placeholder.article.description'|translate"
                           [(ngModel)]="facebook"
                           [ngModelOptions]="{standalone: true}">
                    <mat-icon matSuffix
                              fontSet="fontawesome"
                              fontIcon="fa-facebook-square"></mat-icon>
                  </mat-form-field>
                </div>
              </div>
            </div>
          </mat-card-content>
          <div class="d-block mt-1">
            <div class="mat-form-field">
              <mat-radio-group class="example-radio-group"
                               [formControl]="form.controls.published">
                <mat-radio-button class="example-radio-button"
                                  [value]="true">
                  {{ 'admin.label.article.publish'|translate }}
                </mat-radio-button>
                <mat-radio-button class="example-radio-button"
                                  [value]="false">
                  {{ 'admin.label.article.unpublish'|translate }}
                </mat-radio-button>
              </mat-radio-group>
            </div>
          </div>
          <mat-card-actions>
            <div class="d-flex justify-content-around">
              <button type="button"
                      class="back text-uppercase"
                      mat-raised-button
                      role="button"
                      [attr.aria-label]="'cta.cancel'|translate"
                      color="accent"
                      [innerHtml]="'cta.cancel'|translate"
                      [routerLink]="['/admin/article']"></button>
              <button type="submit"
                      class="validate text-uppercase"
                      mat-raised-button
                      role="button"
                      [attr.aria-label]="'cta.save'|translate"
                      color="primary"
                      [disabled]="form.invalid || form.pristine"
                      [innerHtml]="'cta.save'|translate"></button>
            </div>
          </mat-card-actions>
        </mat-card>
      </form>
    </div>
  </div>
</div>
